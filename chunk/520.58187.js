"use strict";(self.webpackChunkSamsara=self.webpackChunkSamsara||[]).push([[520],{1520:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Achievement)\n/* harmony export */ });\nclass Achievement extends ui.view.DefaultTheme.AchievementUI {\n  constructor() {\n    super();\n    this.btnBack.on(Laya.Event.CLICK, this, () => $ui.switchView(UI.pages.MAIN));\n    this.btnRank.on(Laya.Event.CLICK, this, $$event, ['message', ['M_NoRank']]);\n    this.listAchievements.renderHandler = new Laya.Handler(this, this.onRenderAchievement);\n    this.listAchievements.scrollBar.elasticDistance = 150;\n  }\n  init() {\n    const {\n      statistics,\n      achievements,\n      PropertyTypes: pt\n    } = core;\n    this.listAchievements.array = achievements;\n    this.labRemakeTimes.text = $_.format($lang.F_RemakeTimes, statistics[pt.TMS].value);\n    this.labRemakeTimesJudge.text = statistics[pt.TMS].judge;\n    $_.deepMapSet(this.boxRemakeTimes, $ui.common.achievement[statistics[pt.TMS].grade]);\n    this.labAchievementCount.text = $_.format($lang.F_AchievementCount, statistics[pt.CACHV].value);\n    this.labAchievementCountJudge.text = statistics[pt.CACHV].judge;\n    $_.deepMapSet(this.boxAchievementCount, $ui.common.achievement[statistics[pt.CACHV].grade]);\n    this.labEventRate.text = parseInt(statistics[pt.REVT].value * 100) + '%';\n    this.prgEventRate.scaleX = statistics[pt.REVT].value;\n    $_.deepMapSet(this.boxEventRate, $ui.common.achievement[statistics[pt.REVT].grade]);\n    this.labTalentRate.text = parseInt(statistics[pt.RTLT].value * 100) + '%';\n    this.prgTalentRate.scaleX = statistics[pt.RTLT].value;\n    $_.deepMapSet(this.boxTalentRate, $ui.common.achievement[statistics[pt.RTLT].grade]);\n  }\n  onRenderAchievement(box) {\n    const dataSource = box.dataSource;\n    const name = box.getChildByName('name');\n    const description = box.getChildByName('description');\n    const boxMask = box.getChildByName('boxMask');\n    $_.deepMapSet(box, $ui.common.achievement[dataSource.grade]);\n    name.color = description.color = $ui.common.defaultFontColor;\n    if (dataSource.isAchieved) {\n      name.text = dataSource.name;\n      description.text = dataSource.description;\n      boxMask.visible = false;\n    } else {\n      name.text = dataSource.hide ? '???' : dataSource.name;\n      description.text = dataSource.hide ? '???' : dataSource.description;\n      boxMask.visible = true;\n    }\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUyMC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TYW1zYXJhLy4vc3JjL3VpL3RoZW1lcy9kZWZhdWx0L2FjaGlldmVtZW50LmpzPzQzODgiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWNoaWV2ZW1lbnQgZXh0ZW5kcyB1aS52aWV3LkRlZmF1bHRUaGVtZS5BY2hpZXZlbWVudFVJIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5idG5CYWNrLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsICgpID0+ICR1aS5zd2l0Y2hWaWV3KFVJLnBhZ2VzLk1BSU4pKTtcbiAgICAgICAgdGhpcy5idG5SYW5rLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsICQkZXZlbnQsIFsnbWVzc2FnZScsIFsnTV9Ob1JhbmsnXV0pO1xuICAgICAgICB0aGlzLmxpc3RBY2hpZXZlbWVudHMucmVuZGVySGFuZGxlciA9IG5ldyBMYXlhLkhhbmRsZXIodGhpcywgdGhpcy5vblJlbmRlckFjaGlldmVtZW50KTtcbiAgICAgICAgdGhpcy5saXN0QWNoaWV2ZW1lbnRzLnNjcm9sbEJhci5lbGFzdGljRGlzdGFuY2UgPSAxNTA7XG4gICAgfVxuXG4gICAgaW5pdCgpIHtcblxuICAgICAgICBjb25zdCB7c3RhdGlzdGljcywgYWNoaWV2ZW1lbnRzLCBQcm9wZXJ0eVR5cGVzOiBwdH0gPSBjb3JlO1xuXG4gICAgICAgIHRoaXMubGlzdEFjaGlldmVtZW50cy5hcnJheSA9IGFjaGlldmVtZW50cztcblxuICAgICAgICB0aGlzLmxhYlJlbWFrZVRpbWVzLnRleHQgPSAkXy5mb3JtYXQoJGxhbmcuRl9SZW1ha2VUaW1lcywgc3RhdGlzdGljc1twdC5UTVNdLnZhbHVlKTtcbiAgICAgICAgdGhpcy5sYWJSZW1ha2VUaW1lc0p1ZGdlLnRleHQgPSBzdGF0aXN0aWNzW3B0LlRNU10uanVkZ2U7XG4gICAgICAgICRfLmRlZXBNYXBTZXQodGhpcy5ib3hSZW1ha2VUaW1lcywgJHVpLmNvbW1vbi5hY2hpZXZlbWVudFtzdGF0aXN0aWNzW3B0LlRNU10uZ3JhZGVdKTtcblxuICAgICAgICB0aGlzLmxhYkFjaGlldmVtZW50Q291bnQudGV4dCA9ICRfLmZvcm1hdCgkbGFuZy5GX0FjaGlldmVtZW50Q291bnQsIHN0YXRpc3RpY3NbcHQuQ0FDSFZdLnZhbHVlKTtcbiAgICAgICAgdGhpcy5sYWJBY2hpZXZlbWVudENvdW50SnVkZ2UudGV4dCA9IHN0YXRpc3RpY3NbcHQuQ0FDSFZdLmp1ZGdlO1xuICAgICAgICAkXy5kZWVwTWFwU2V0KHRoaXMuYm94QWNoaWV2ZW1lbnRDb3VudCwgJHVpLmNvbW1vbi5hY2hpZXZlbWVudFtzdGF0aXN0aWNzW3B0LkNBQ0hWXS5ncmFkZV0pO1xuXG4gICAgICAgIHRoaXMubGFiRXZlbnRSYXRlLnRleHQgPSBwYXJzZUludChzdGF0aXN0aWNzW3B0LlJFVlRdLnZhbHVlKjEwMCkrJyUnO1xuICAgICAgICB0aGlzLnByZ0V2ZW50UmF0ZS5zY2FsZVggPSBzdGF0aXN0aWNzW3B0LlJFVlRdLnZhbHVlO1xuICAgICAgICAkXy5kZWVwTWFwU2V0KHRoaXMuYm94RXZlbnRSYXRlLCAkdWkuY29tbW9uLmFjaGlldmVtZW50W3N0YXRpc3RpY3NbcHQuUkVWVF0uZ3JhZGVdKTtcblxuICAgICAgICB0aGlzLmxhYlRhbGVudFJhdGUudGV4dCA9IHBhcnNlSW50KHN0YXRpc3RpY3NbcHQuUlRMVF0udmFsdWUqMTAwKSsnJSc7XG4gICAgICAgIHRoaXMucHJnVGFsZW50UmF0ZS5zY2FsZVggPSBzdGF0aXN0aWNzW3B0LlJUTFRdLnZhbHVlO1xuICAgICAgICAkXy5kZWVwTWFwU2V0KHRoaXMuYm94VGFsZW50UmF0ZSwgJHVpLmNvbW1vbi5hY2hpZXZlbWVudFtzdGF0aXN0aWNzW3B0LlJUTFRdLmdyYWRlXSk7XG4gICAgfVxuXG4gICAgb25SZW5kZXJBY2hpZXZlbWVudChib3gpIHtcbiAgICAgICAgY29uc3QgZGF0YVNvdXJjZSA9IGJveC5kYXRhU291cmNlO1xuXG4gICAgICAgIGNvbnN0IG5hbWUgPSBib3guZ2V0Q2hpbGRCeU5hbWUoJ25hbWUnKTtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBib3guZ2V0Q2hpbGRCeU5hbWUoJ2Rlc2NyaXB0aW9uJyk7XG4gICAgICAgIGNvbnN0IGJveE1hc2sgPSBib3guZ2V0Q2hpbGRCeU5hbWUoJ2JveE1hc2snKTtcblxuICAgICAgICAkXy5kZWVwTWFwU2V0KGJveCwgJHVpLmNvbW1vbi5hY2hpZXZlbWVudFtkYXRhU291cmNlLmdyYWRlXSk7XG4gICAgICAgIG5hbWUuY29sb3IgPSBkZXNjcmlwdGlvbi5jb2xvciA9ICR1aS5jb21tb24uZGVmYXVsdEZvbnRDb2xvcjtcblxuICAgICAgICBpZihkYXRhU291cmNlLmlzQWNoaWV2ZWQpIHtcbiAgICAgICAgICAgIG5hbWUudGV4dCA9IGRhdGFTb3VyY2UubmFtZTtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uLnRleHQgPSBkYXRhU291cmNlLmRlc2NyaXB0aW9uO1xuICAgICAgICAgICAgYm94TWFzay52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuYW1lLnRleHQgPSBkYXRhU291cmNlLmhpZGU/ICc/Pz8nOiBkYXRhU291cmNlLm5hbWU7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbi50ZXh0ID0gZGF0YVNvdXJjZS5oaWRlPyAnPz8/JzogZGF0YVNvdXJjZS5kZXNjcmlwdGlvbjtcbiAgICAgICAgICAgIGJveE1hc2sudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1520\n")}}]);