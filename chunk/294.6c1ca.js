"use strict";(self.webpackChunkSamsara=self.webpackChunkSamsara||[]).push([[294],{294:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Property)\n/* harmony export */ });\n/* harmony import */ var core_js_modules_esnext_iterator_constructor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9070);\n/* harmony import */ var core_js_modules_esnext_iterator_map_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2988);\n\n\nclass Property extends ui.view.DefaultTheme.PropertyUI {\n  constructor() {\n    super();\n    const types = this.#types = core.PropertyTypes;\n    this.btnCharmIncrease.on(Laya.Event.CLICK, this, this.onPropertyAllocate, [types.CHR, 1]);\n    this.btnCharmReduce.on(Laya.Event.CLICK, this, this.onPropertyAllocate, [types.CHR, -1]);\n    this.btnIntelligenceIncrease.on(Laya.Event.CLICK, this, this.onPropertyAllocate, [types.INT, 1]);\n    this.btnIntelligenceReduce.on(Laya.Event.CLICK, this, this.onPropertyAllocate, [types.INT, -1]);\n    this.btnStrengthIncrease.on(Laya.Event.CLICK, this, this.onPropertyAllocate, [types.STR, 1]);\n    this.btnStrengthReduce.on(Laya.Event.CLICK, this, this.onPropertyAllocate, [types.STR, -1]);\n    this.btnMoneyIncrease.on(Laya.Event.CLICK, this, this.onPropertyAllocate, [types.MNY, 1]);\n    this.btnMoneyReduce.on(Laya.Event.CLICK, this, this.onPropertyAllocate, [types.MNY, -1]);\n    this.btnSpiritIncrease.on(Laya.Event.CLICK, this, this.onPropertyAllocate, [types.SPR, 1]);\n    this.btnSpiritReduce.on(Laya.Event.CLICK, this, this.onPropertyAllocate, [types.SPR, -1]);\n    const selectAll = _ref => {\n      let {\n        currentTarget: item\n      } = _ref;\n      item.text = '';\n    };\n    this.inputCharm.on(Laya.Event.MOUSE_DOWN, this, selectAll);\n    this.inputIntelligence.on(Laya.Event.MOUSE_DOWN, this, selectAll);\n    this.inputStrength.on(Laya.Event.MOUSE_DOWN, this, selectAll);\n    this.inputMoney.on(Laya.Event.MOUSE_DOWN, this, selectAll);\n    this.btnRandomAllocate.on(Laya.Event.CLICK, this, this.random);\n    this.btnNext.on(Laya.Event.CLICK, this, this.next);\n\n    // this.listSelectedTalents.renderHandler = Laya.Handler.create(this, this.renderTalent, null, false);\n  }\n  #types;\n  #propertyPoints;\n  #propertyAllocate;\n  #propertyAllocateLimit;\n  init(_ref2) {\n    let {\n      talents,\n      property\n    } = _ref2;\n    console.log('property init', talents, property);\n    this.listSelectedTalents.array = talents;\n    const replace = core.remake(talents.map(talent => talent.id));\n    if (replace.length > 0) {\n      $$event('message', [replace.map(v => ['F_TalentReplace', v])]);\n    }\n    this.#propertyPoints = core.getPropertyPoints();\n    this.#propertyAllocateLimit = core.propertyAllocateLimit;\n    this.labLeftPropertyPoint.text = this.#propertyPoints;\n    this.#propertyAllocate = {\n      [this.#types.CHR]: 0,\n      [this.#types.INT]: 0,\n      [this.#types.STR]: 0,\n      [this.#types.MNY]: 0,\n      [this.#types.SPR]: 0,\n      [this.#types.AFG]: property[this.#types.AFG],\n      [this.#types.CHN]: property[this.#types.CHN],\n      [this.#types.EGP]: property[this.#types.EGP],\n      [this.#types.IND]: property[this.#types.IND],\n      [this.#types.JPN]: property[this.#types.JPN],\n      [this.#types.USA]: property[this.#types.USA],\n      [this.#types.LBTQ]: property[this.#types.LBTQ]\n    };\n    this.updateAllocate();\n  }\n  next() {\n    const left = this.#propertyPoints - this.total;\n    if (left > 0) {\n      return $$event('message', ['F_PropertyPointLeft', left]);\n    }\n    $ui.switchView(UI.pages.TRAJECTORY, {\n      propertyAllocate: this.#propertyAllocate,\n      talents: this.listSelectedTalents.array,\n      enableExtend: true\n    });\n  }\n  get total() {\n    return this.#propertyAllocate[this.#types.CHR] + this.#propertyAllocate[this.#types.INT] + this.#propertyAllocate[this.#types.STR] + this.#propertyAllocate[this.#types.MNY] + this.#propertyAllocate[this.#types.SPR];\n  }\n  updateAllocate() {\n    const charm = this.#propertyAllocate[this.#types.CHR];\n    const intelligence = this.#propertyAllocate[this.#types.INT];\n    const strength = this.#propertyAllocate[this.#types.STR];\n    const money = this.#propertyAllocate[this.#types.MNY];\n    const EQ = this.#propertyAllocate[this.#types.SPR];\n    this.inputCharm.text = '' + charm;\n    this.inputIntelligence.text = '' + intelligence;\n    this.inputStrength.text = '' + strength;\n    this.inputMoney.text = '' + money;\n    this.inputSpirit.text = '' + EQ;\n    this.labLeftPropertyPoint.text = this.#propertyPoints - this.total;\n    this.btnCharmIncrease.disabled = this.btnCharmIncrease.gray = false;\n    this.btnCharmReduce.disabled = this.btnCharmReduce.gray = false;\n    this.btnIntelligenceIncrease.disabled = this.btnIntelligenceIncrease.gray = false;\n    this.btnIntelligenceReduce.disabled = this.btnIntelligenceReduce.gray = false;\n    this.btnStrengthIncrease.disabled = this.btnStrengthIncrease.gray = false;\n    this.btnStrengthReduce.disabled = this.btnStrengthReduce.gray = false;\n    this.btnMoneyIncrease.disabled = this.btnMoneyIncrease.gray = false;\n    this.btnMoneyReduce.disabled = this.btnMoneyReduce.gray = false;\n    this.btnSpiritIncrease.disabled = this.btnSpiritIncrease.gray = false;\n    this.btnSpiritReduce.disabled = this.btnSpiritReduce.gray = false;\n  }\n  check(left, right, value) {\n    if (value < left) return false;\n    if (value > right) return false;\n    return true;\n  }\n  random() {\n    let t = this.#propertyPoints;\n    const arr = new Array(5).fill(this.#propertyAllocateLimit[1]);\n    while (t > 0) {\n      const sub = Math.round(Math.random() * (Math.min(t, this.#propertyAllocateLimit[1]) - 1)) + 1;\n      while (true) {\n        const select = Math.floor(Math.random() * 5) % 5;\n        if (arr[select] - sub < 0) continue;\n        arr[select] -= sub;\n        t -= sub;\n        break;\n      }\n    }\n    this.#propertyAllocate[this.#types.CHR] = this.#propertyAllocateLimit[1] - arr[0];\n    this.#propertyAllocate[this.#types.INT] = this.#propertyAllocateLimit[1] - arr[1];\n    this.#propertyAllocate[this.#types.STR] = this.#propertyAllocateLimit[1] - arr[2];\n    this.#propertyAllocate[this.#types.MNY] = this.#propertyAllocateLimit[1] - arr[3];\n    this.#propertyAllocate[this.#types.SPR] = this.#propertyAllocateLimit[1] - arr[4];\n    this.updateAllocate();\n  }\n  onPropertyAllocate(type, value) {\n    if (!this.check(this.#propertyAllocateLimit[0], this.#propertyAllocateLimit[1], this.#propertyAllocate[type] + value)) {\n      return;\n    }\n    if (!this.check(0, this.#propertyPoints, this.total + value)) {\n      return;\n    }\n    this.#propertyAllocate[type] += value;\n    this.updateAllocate();\n  }\n  onPropertyAllocateInput(type, inputItem) {\n    let value = parseInt(inputItem.text) || 0;\n    const total = this.total;\n    if (total + value < 0) {\n      value = this.#propertyAllocateLimit[0] * 5 - total;\n    } else if (total + value > this.#propertyPoints) {\n      value = this.#propertyPoints - total;\n    }\n    if (value < this.#propertyAllocateLimit[0]) {\n      value = this.#propertyAllocateLimit[0];\n    } else if (value > this.#propertyAllocateLimit[1]) {\n      value = this.#propertyAllocateLimit[1];\n    }\n    const alter = value - this.#propertyAllocate[type];\n    if (alter) {\n      this.onPropertyAllocate(type, alter);\n    } else {\n      this.updateAllocate();\n    }\n  }\n\n  // renderTalent(box) {\n  //     const dataSource = box.dataSource;\n\n  //     box.label = $_.format($lang.F_TalentSelection, dataSource);\n  //     const style = $ui.common.card[dataSource.grade].normal;\n\n  //     $_.deepMapSet(box, style);\n  // }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjk0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TYW1zYXJhLy4vc3JjL3VpL3RoZW1lcy9kZWZhdWx0L3Byb3BlcnR5LmpzP2M0YjciXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvcGVydHkgZXh0ZW5kcyB1aS52aWV3LkRlZmF1bHRUaGVtZS5Qcm9wZXJ0eVVJIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICBjb25zdCB0eXBlcyA9XG4gICAgICAgIHRoaXMuI3R5cGVzID0gY29yZS5Qcm9wZXJ0eVR5cGVzO1xuXG4gICAgICAgIHRoaXMuYnRuQ2hhcm1JbmNyZWFzZS5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLm9uUHJvcGVydHlBbGxvY2F0ZSwgW3R5cGVzLkNIUiwgMV0pO1xuICAgICAgICB0aGlzLmJ0bkNoYXJtUmVkdWNlLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMub25Qcm9wZXJ0eUFsbG9jYXRlLCBbdHlwZXMuQ0hSLCAtMV0pO1xuXG4gICAgICAgIHRoaXMuYnRuSW50ZWxsaWdlbmNlSW5jcmVhc2Uub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5vblByb3BlcnR5QWxsb2NhdGUsIFt0eXBlcy5JTlQsIDFdKTtcbiAgICAgICAgdGhpcy5idG5JbnRlbGxpZ2VuY2VSZWR1Y2Uub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5vblByb3BlcnR5QWxsb2NhdGUsIFt0eXBlcy5JTlQsIC0xXSk7XG5cbiAgICAgICAgdGhpcy5idG5TdHJlbmd0aEluY3JlYXNlLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMub25Qcm9wZXJ0eUFsbG9jYXRlLCBbdHlwZXMuU1RSLCAxXSk7XG4gICAgICAgIHRoaXMuYnRuU3RyZW5ndGhSZWR1Y2Uub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5vblByb3BlcnR5QWxsb2NhdGUsIFt0eXBlcy5TVFIsIC0xXSk7XG5cbiAgICAgICAgdGhpcy5idG5Nb25leUluY3JlYXNlLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMub25Qcm9wZXJ0eUFsbG9jYXRlLCBbdHlwZXMuTU5ZLCAxXSk7XG4gICAgICAgIHRoaXMuYnRuTW9uZXlSZWR1Y2Uub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5vblByb3BlcnR5QWxsb2NhdGUsIFt0eXBlcy5NTlksIC0xXSk7XG5cbiAgICAgICAgdGhpcy5idG5TcGlyaXRJbmNyZWFzZS5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLm9uUHJvcGVydHlBbGxvY2F0ZSwgW3R5cGVzLlNQUiwgMV0pO1xuICAgICAgICB0aGlzLmJ0blNwaXJpdFJlZHVjZS5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLm9uUHJvcGVydHlBbGxvY2F0ZSwgW3R5cGVzLlNQUiwgLTFdKTtcblxuICAgICAgICBjb25zdCBzZWxlY3RBbGwgPSAoe2N1cnJlbnRUYXJnZXQ6IGl0ZW19KSA9PiB7IGl0ZW0udGV4dD0nJzsgfTtcbiAgICAgICAgdGhpcy5pbnB1dENoYXJtLm9uKExheWEuRXZlbnQuTU9VU0VfRE9XTiwgdGhpcywgc2VsZWN0QWxsKTtcbiAgICAgICAgdGhpcy5pbnB1dEludGVsbGlnZW5jZS5vbihMYXlhLkV2ZW50Lk1PVVNFX0RPV04sIHRoaXMsIHNlbGVjdEFsbCk7XG4gICAgICAgIHRoaXMuaW5wdXRTdHJlbmd0aC5vbihMYXlhLkV2ZW50Lk1PVVNFX0RPV04sIHRoaXMsIHNlbGVjdEFsbCk7XG4gICAgICAgIHRoaXMuaW5wdXRNb25leS5vbihMYXlhLkV2ZW50Lk1PVVNFX0RPV04sIHRoaXMsIHNlbGVjdEFsbCk7XG5cbiAgICAgICAgdGhpcy5idG5SYW5kb21BbGxvY2F0ZS5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLnJhbmRvbSk7XG4gICAgICAgIHRoaXMuYnRuTmV4dC5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLm5leHQpO1xuXG4gICAgICAgIC8vIHRoaXMubGlzdFNlbGVjdGVkVGFsZW50cy5yZW5kZXJIYW5kbGVyID0gTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLnJlbmRlclRhbGVudCwgbnVsbCwgZmFsc2UpO1xuICAgIH1cblxuICAgICN0eXBlcztcbiAgICAjcHJvcGVydHlQb2ludHM7XG4gICAgI3Byb3BlcnR5QWxsb2NhdGU7XG4gICAgI3Byb3BlcnR5QWxsb2NhdGVMaW1pdDtcblxuICAgIGluaXQoeyB0YWxlbnRzLCBwcm9wZXJ0eSB9KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdwcm9wZXJ0eSBpbml0JywgdGFsZW50cywgcHJvcGVydHkpO1xuICAgICAgICB0aGlzLmxpc3RTZWxlY3RlZFRhbGVudHMuYXJyYXkgPSB0YWxlbnRzO1xuICAgICAgICBjb25zdCByZXBsYWNlID0gY29yZS5yZW1ha2UodGFsZW50cy5tYXAodGFsZW50ID0+IHRhbGVudC5pZCkpO1xuICAgICAgICBpZihyZXBsYWNlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICQkZXZlbnQoJ21lc3NhZ2UnLCBbcmVwbGFjZS5tYXAodiA9PiBbJ0ZfVGFsZW50UmVwbGFjZScsIHZdKV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI3Byb3BlcnR5UG9pbnRzID0gY29yZS5nZXRQcm9wZXJ0eVBvaW50cygpO1xuICAgICAgICB0aGlzLiNwcm9wZXJ0eUFsbG9jYXRlTGltaXQgPSBjb3JlLnByb3BlcnR5QWxsb2NhdGVMaW1pdDtcbiAgICAgICAgdGhpcy5sYWJMZWZ0UHJvcGVydHlQb2ludC50ZXh0ID0gdGhpcy4jcHJvcGVydHlQb2ludHM7XG4gICAgICAgIHRoaXMuI3Byb3BlcnR5QWxsb2NhdGUgPSB7XG4gICAgICAgICAgICBbdGhpcy4jdHlwZXMuQ0hSXTogMCxcbiAgICAgICAgICAgIFt0aGlzLiN0eXBlcy5JTlRdOiAwLFxuICAgICAgICAgICAgW3RoaXMuI3R5cGVzLlNUUl06IDAsXG4gICAgICAgICAgICBbdGhpcy4jdHlwZXMuTU5ZXTogMCxcbiAgICAgICAgICAgIFt0aGlzLiN0eXBlcy5TUFJdOiAwLFxuICAgICAgICAgICAgW3RoaXMuI3R5cGVzLkFGR106IHByb3BlcnR5W3RoaXMuI3R5cGVzLkFGR10sXG4gICAgICAgICAgICBbdGhpcy4jdHlwZXMuQ0hOXTogcHJvcGVydHlbdGhpcy4jdHlwZXMuQ0hOXSxcbiAgICAgICAgICAgIFt0aGlzLiN0eXBlcy5FR1BdOiBwcm9wZXJ0eVt0aGlzLiN0eXBlcy5FR1BdLFxuICAgICAgICAgICAgW3RoaXMuI3R5cGVzLklORF06IHByb3BlcnR5W3RoaXMuI3R5cGVzLklORF0sXG4gICAgICAgICAgICBbdGhpcy4jdHlwZXMuSlBOXTogcHJvcGVydHlbdGhpcy4jdHlwZXMuSlBOXSxcbiAgICAgICAgICAgIFt0aGlzLiN0eXBlcy5VU0FdOiBwcm9wZXJ0eVt0aGlzLiN0eXBlcy5VU0FdLFxuICAgICAgICAgICAgW3RoaXMuI3R5cGVzLkxCVFFdOiBwcm9wZXJ0eVt0aGlzLiN0eXBlcy5MQlRRXSxcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZUFsbG9jYXRlKCk7XG4gICAgfVxuXG4gICAgbmV4dCgpIHtcbiAgICAgICAgY29uc3QgbGVmdCA9IHRoaXMuI3Byb3BlcnR5UG9pbnRzIC0gdGhpcy50b3RhbDtcbiAgICAgICAgaWYgKGxlZnQgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gJCRldmVudCgnbWVzc2FnZScsIFsnRl9Qcm9wZXJ0eVBvaW50TGVmdCcsIGxlZnRdKTtcbiAgICAgICAgfVxuICAgICAgICAkdWkuc3dpdGNoVmlldyhcbiAgICAgICAgICAgIFVJLnBhZ2VzLlRSQUpFQ1RPUlksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcHJvcGVydHlBbGxvY2F0ZTogdGhpcy4jcHJvcGVydHlBbGxvY2F0ZSxcbiAgICAgICAgICAgICAgICB0YWxlbnRzOiB0aGlzLmxpc3RTZWxlY3RlZFRhbGVudHMuYXJyYXksXG4gICAgICAgICAgICAgICAgZW5hYmxlRXh0ZW5kOiB0cnVlLFxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGdldCB0b3RhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3Byb3BlcnR5QWxsb2NhdGVbdGhpcy4jdHlwZXMuQ0hSXVxuICAgICAgICAgICAgKyAgdGhpcy4jcHJvcGVydHlBbGxvY2F0ZVt0aGlzLiN0eXBlcy5JTlRdXG4gICAgICAgICAgICArICB0aGlzLiNwcm9wZXJ0eUFsbG9jYXRlW3RoaXMuI3R5cGVzLlNUUl1cbiAgICAgICAgICAgICsgdGhpcy4jcHJvcGVydHlBbGxvY2F0ZVt0aGlzLiN0eXBlcy5NTlldXG4gICAgICAgICAgICArIHRoaXMuI3Byb3BlcnR5QWxsb2NhdGVbdGhpcy4jdHlwZXMuU1BSXTtcbiAgICB9XG5cbiAgICB1cGRhdGVBbGxvY2F0ZSgpIHtcbiAgICAgICAgY29uc3QgY2hhcm0gPSB0aGlzLiNwcm9wZXJ0eUFsbG9jYXRlW3RoaXMuI3R5cGVzLkNIUl07XG4gICAgICAgIGNvbnN0IGludGVsbGlnZW5jZSA9IHRoaXMuI3Byb3BlcnR5QWxsb2NhdGVbdGhpcy4jdHlwZXMuSU5UXTtcbiAgICAgICAgY29uc3Qgc3RyZW5ndGggPSB0aGlzLiNwcm9wZXJ0eUFsbG9jYXRlW3RoaXMuI3R5cGVzLlNUUl07XG4gICAgICAgIGNvbnN0IG1vbmV5ID0gdGhpcy4jcHJvcGVydHlBbGxvY2F0ZVt0aGlzLiN0eXBlcy5NTlldO1xuICAgICAgICBjb25zdCBFUSA9IHRoaXMuI3Byb3BlcnR5QWxsb2NhdGVbdGhpcy4jdHlwZXMuU1BSXTtcblxuICAgICAgICB0aGlzLmlucHV0Q2hhcm0udGV4dCA9ICcnK2NoYXJtO1xuICAgICAgICB0aGlzLmlucHV0SW50ZWxsaWdlbmNlLnRleHQgPSAnJytpbnRlbGxpZ2VuY2U7XG4gICAgICAgIHRoaXMuaW5wdXRTdHJlbmd0aC50ZXh0ID0gJycrc3RyZW5ndGg7XG4gICAgICAgIHRoaXMuaW5wdXRNb25leS50ZXh0ID0gJycgKyBtb25leTtcbiAgICAgICAgdGhpcy5pbnB1dFNwaXJpdC50ZXh0ID0gJycgKyBFUTtcblxuICAgICAgICB0aGlzLmxhYkxlZnRQcm9wZXJ0eVBvaW50LnRleHQgPSB0aGlzLiNwcm9wZXJ0eVBvaW50cyAtIHRoaXMudG90YWw7XG5cbiAgICAgICAgdGhpcy5idG5DaGFybUluY3JlYXNlLmRpc2FibGVkID0gdGhpcy5idG5DaGFybUluY3JlYXNlLmdyYXkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5idG5DaGFybVJlZHVjZS5kaXNhYmxlZCA9IHRoaXMuYnRuQ2hhcm1SZWR1Y2UuZ3JheSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJ0bkludGVsbGlnZW5jZUluY3JlYXNlLmRpc2FibGVkID0gdGhpcy5idG5JbnRlbGxpZ2VuY2VJbmNyZWFzZS5ncmF5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYnRuSW50ZWxsaWdlbmNlUmVkdWNlLmRpc2FibGVkID0gdGhpcy5idG5JbnRlbGxpZ2VuY2VSZWR1Y2UuZ3JheSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJ0blN0cmVuZ3RoSW5jcmVhc2UuZGlzYWJsZWQgPSB0aGlzLmJ0blN0cmVuZ3RoSW5jcmVhc2UuZ3JheSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJ0blN0cmVuZ3RoUmVkdWNlLmRpc2FibGVkID0gdGhpcy5idG5TdHJlbmd0aFJlZHVjZS5ncmF5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYnRuTW9uZXlJbmNyZWFzZS5kaXNhYmxlZCA9IHRoaXMuYnRuTW9uZXlJbmNyZWFzZS5ncmF5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYnRuTW9uZXlSZWR1Y2UuZGlzYWJsZWQgPSB0aGlzLmJ0bk1vbmV5UmVkdWNlLmdyYXkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5idG5TcGlyaXRJbmNyZWFzZS5kaXNhYmxlZCA9IHRoaXMuYnRuU3Bpcml0SW5jcmVhc2UuZ3JheSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJ0blNwaXJpdFJlZHVjZS5kaXNhYmxlZCA9IHRoaXMuYnRuU3Bpcml0UmVkdWNlLmdyYXkgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBjaGVjayhsZWZ0LCByaWdodCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlIDwgbGVmdCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAodmFsdWUgPiByaWdodCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByYW5kb20oKSB7XG4gICAgICAgIGxldCB0ID0gdGhpcy4jcHJvcGVydHlQb2ludHM7XG4gICAgICAgIGNvbnN0IGFyciA9IG5ldyBBcnJheSg1KS5maWxsKHRoaXMuI3Byb3BlcnR5QWxsb2NhdGVMaW1pdFsxXSk7XG5cbiAgICAgICAgd2hpbGUgKHQgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBzdWIgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAoTWF0aC5taW4odCwgdGhpcy4jcHJvcGVydHlBbGxvY2F0ZUxpbWl0WzFdKSAtIDEpKSArIDE7XG4gICAgICAgICAgICB3aGlsZSh0cnVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNSkgJSA1O1xuICAgICAgICAgICAgICAgIGlmKGFycltzZWxlY3RdIC0gc3ViIDwwKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBhcnJbc2VsZWN0XSAtPSBzdWI7XG4gICAgICAgICAgICAgICAgdCAtPSBzdWI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jcHJvcGVydHlBbGxvY2F0ZVt0aGlzLiN0eXBlcy5DSFJdID0gdGhpcy4jcHJvcGVydHlBbGxvY2F0ZUxpbWl0WzFdIC0gYXJyWzBdO1xuICAgICAgICB0aGlzLiNwcm9wZXJ0eUFsbG9jYXRlW3RoaXMuI3R5cGVzLklOVF0gPSB0aGlzLiNwcm9wZXJ0eUFsbG9jYXRlTGltaXRbMV0gLSBhcnJbMV07XG4gICAgICAgIHRoaXMuI3Byb3BlcnR5QWxsb2NhdGVbdGhpcy4jdHlwZXMuU1RSXSA9IHRoaXMuI3Byb3BlcnR5QWxsb2NhdGVMaW1pdFsxXSAtIGFyclsyXTtcbiAgICAgICAgdGhpcy4jcHJvcGVydHlBbGxvY2F0ZVt0aGlzLiN0eXBlcy5NTlldID0gdGhpcy4jcHJvcGVydHlBbGxvY2F0ZUxpbWl0WzFdIC0gYXJyWzNdO1xuICAgICAgICB0aGlzLiNwcm9wZXJ0eUFsbG9jYXRlW3RoaXMuI3R5cGVzLlNQUl0gPSB0aGlzLiNwcm9wZXJ0eUFsbG9jYXRlTGltaXRbMV0gLSBhcnJbNF07XG5cbiAgICAgICAgdGhpcy51cGRhdGVBbGxvY2F0ZSgpO1xuICAgIH1cblxuICAgIG9uUHJvcGVydHlBbGxvY2F0ZSh0eXBlLCB2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuY2hlY2soXG4gICAgICAgICAgICAgICAgdGhpcy4jcHJvcGVydHlBbGxvY2F0ZUxpbWl0WzBdLFxuICAgICAgICAgICAgICAgIHRoaXMuI3Byb3BlcnR5QWxsb2NhdGVMaW1pdFsxXSxcbiAgICAgICAgICAgICAgICB0aGlzLiNwcm9wZXJ0eUFsbG9jYXRlW3R5cGVdICsgdmFsdWVcbiAgICAgICAgKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5jaGVjayhcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICB0aGlzLiNwcm9wZXJ0eVBvaW50cyxcbiAgICAgICAgICAgIHRoaXMudG90YWwgKyB2YWx1ZVxuICAgICAgICApKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jcHJvcGVydHlBbGxvY2F0ZVt0eXBlXSArPSB2YWx1ZTtcbiAgICAgICAgdGhpcy51cGRhdGVBbGxvY2F0ZSgpO1xuICAgIH1cblxuICAgIG9uUHJvcGVydHlBbGxvY2F0ZUlucHV0KHR5cGUsIGlucHV0SXRlbSkge1xuICAgICAgICBsZXQgdmFsdWUgPSBwYXJzZUludChpbnB1dEl0ZW0udGV4dCkgfHwgMDtcbiAgICAgICAgY29uc3QgdG90YWwgPSB0aGlzLnRvdGFsO1xuICAgICAgICBpZiAodG90YWwgKyB2YWx1ZSA8IDApIHtcbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy4jcHJvcGVydHlBbGxvY2F0ZUxpbWl0WzBdICogNSAtIHRvdGFsO1xuICAgICAgICB9IGVsc2UgaWYgKHRvdGFsICsgdmFsdWUgPiB0aGlzLiNwcm9wZXJ0eVBvaW50cykge1xuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLiNwcm9wZXJ0eVBvaW50cyAtIHRvdGFsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZhbHVlIDwgdGhpcy4jcHJvcGVydHlBbGxvY2F0ZUxpbWl0WzBdKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuI3Byb3BlcnR5QWxsb2NhdGVMaW1pdFswXTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA+IHRoaXMuI3Byb3BlcnR5QWxsb2NhdGVMaW1pdFsxXSkge1xuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLiNwcm9wZXJ0eUFsbG9jYXRlTGltaXRbMV07XG4gICAgICAgIH1cblxuXG4gICAgICAgIGNvbnN0IGFsdGVyID0gdmFsdWUgLSB0aGlzLiNwcm9wZXJ0eUFsbG9jYXRlW3R5cGVdO1xuICAgICAgICBpZiAoYWx0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMub25Qcm9wZXJ0eUFsbG9jYXRlKHR5cGUsIGFsdGVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQWxsb2NhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHJlbmRlclRhbGVudChib3gpIHtcbiAgICAvLyAgICAgY29uc3QgZGF0YVNvdXJjZSA9IGJveC5kYXRhU291cmNlO1xuXG4gICAgLy8gICAgIGJveC5sYWJlbCA9ICRfLmZvcm1hdCgkbGFuZy5GX1RhbGVudFNlbGVjdGlvbiwgZGF0YVNvdXJjZSk7XG4gICAgLy8gICAgIGNvbnN0IHN0eWxlID0gJHVpLmNvbW1vbi5jYXJkW2RhdGFTb3VyY2UuZ3JhZGVdLm5vcm1hbDtcblxuICAgIC8vICAgICAkXy5kZWVwTWFwU2V0KGJveCwgc3R5bGUpO1xuICAgIC8vIH1cbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///294\n")}}]);