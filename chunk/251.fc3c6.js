"use strict";(self.webpackChunkSamsara=self.webpackChunkSamsara||[]).push([[251],{4251:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Summary)\n/* harmony export */ });\nclass Summary extends ui.view.DefaultTheme.SummaryUI {\n  constructor() {\n    super();\n    this.listSummary.renderHandler = Laya.Handler.create(this, this.renderSummary, null, false);\n    this.listSelectedTalents.renderHandler = Laya.Handler.create(this, this.renderTalent, null, false);\n    this.btnAgain.on(Laya.Event.CLICK, this, this.onAgain);\n    this.btnPrint.on(Laya.Event.CLICK, this, this.onPrintTxt);\n  }\n  #printText;\n  onAgain() {\n    window.location.reload();\n  }\n  onPrintTxt() {\n    const win = window.open();\n    const txts = this.#printText.split('\\n');\n    win.document.write(\"<pstyle='margin: 6px 0; width: 280px; font-size: 14px; font-family:Casadia Code, Consolas, monospace'>Life Summary @Samsara</p>\");\n    for (let id = 0; id < txts.length; id++) {\n      win.document.write(\"<p style='margin:3px 0; width: 280px; font-size: 12px; font-family:Casadia Code, Consolas, monospace'>\" + txts[id] + \"</p>\");\n    }\n    win.document.write(\"<div style='margin: 8px 0 0; width: 280px; text-align: center;'><img src='images/qrcode.png' style='width: 150px;height:150px;'></div>\");\n    win.document.write(\"<p style='margin: 8px 0 0; width: 280px; font-size: 12px; font-family:Casadia Code, Consolas, monospace'>Visit http://samsara.hackpku.com/ to play it at home.<br> Â© 2022 Yuwei Jiang</p>\");\n    win.document.write(\"<p style='margin: 8px 0 0; width: 280px; font-size: 12px; font-family:Casadia Code, Consolas, monospace'>Contact: sabinajiang0505@outlook.com</p>\");\n    win.focus();\n    win.document.close();\n    win.print();\n  }\n\n  // Save as a txt\n  // downloadTxt(text, fileName) {\n  //     let element = document.createElement('a')\n  //     element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text))\n  //     element.setAttribute('download', fileName)\n  //     element.style.display = 'none'\n  //     element.click()\n  // }\n\n  init(_ref) {\n    let {\n      talents,\n      printText,\n      enableExtend\n    } = _ref;\n    const {\n      summary,\n      lastExtendTalent\n    } = core;\n    this.#printText = printText;\n    this.listSummary.array = [[core.PropertyTypes.HCHR, $lang.UI_Property_Charm], [core.PropertyTypes.HINT, $lang.UI_Property_Intelligence], [core.PropertyTypes.HSTR, $lang.UI_Property_Strength], [core.PropertyTypes.HMNY, $lang.UI_Property_Money], [core.PropertyTypes.HSPR, $lang.UI_Property_Spirit]\n    //[core.PropertyTypes.HAGE, $lang.UI_Final_Age],\n    //[core.PropertyTypes.SUM, $lang.UI_Total_Judge],\n    ].map(_ref2 => {\n      let [type, key] = _ref2;\n      const data = summary[type];\n      return {\n        label: `${key}${$lang.UI_Colon} ${data.value > 13 ? 13 : data.value}`,\n        grade: data.grade\n      };\n    });\n    this.listSelectedTalents.array = talents;\n  }\n  renderSummary(box) {\n    const {\n      label,\n      grade\n    } = box.dataSource;\n    box.label = label;\n    $_.deepMapSet(box, $ui.common.summary[grade]);\n  }\n  renderTalent(box) {\n    const dataSource = box.dataSource;\n    box.label = $_.format($lang.F_TalentSelection, dataSource);\n    const style = $ui.common.card[dataSource.grade];\n    $_.deepMapSet(box, dataSource.id = style.normal);\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDI1MS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL1NhbXNhcmEvLi9zcmMvdWkvdGhlbWVzL2RlZmF1bHQvc3VtbWFyeS5qcz85ODMxIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFN1bW1hcnkgZXh0ZW5kcyB1aS52aWV3LkRlZmF1bHRUaGVtZS5TdW1tYXJ5VUkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmxpc3RTdW1tYXJ5LnJlbmRlckhhbmRsZXIgPSBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMucmVuZGVyU3VtbWFyeSwgbnVsbCwgZmFsc2UpO1xuICAgICAgICB0aGlzLmxpc3RTZWxlY3RlZFRhbGVudHMucmVuZGVySGFuZGxlciA9IExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5yZW5kZXJUYWxlbnQsIG51bGwsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5idG5BZ2Fpbi5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLm9uQWdhaW4pO1xuICAgICAgICB0aGlzLmJ0blByaW50Lm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMub25QcmludFR4dCk7XG4gICAgfVxuXG4gICAgI3ByaW50VGV4dDtcblxuICAgIG9uQWdhaW4oKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKVxuICAgIH1cblxuICAgIG9uUHJpbnRUeHQoKSB7XG4gICAgICAgIGNvbnN0IHdpbiA9IHdpbmRvdy5vcGVuKClcbiAgICAgICAgY29uc3QgdHh0cyA9IHRoaXMuI3ByaW50VGV4dC5zcGxpdCgnXFxuJylcbiAgICAgICAgd2luLmRvY3VtZW50LndyaXRlKFwiPHBzdHlsZT0nbWFyZ2luOiA2cHggMDsgd2lkdGg6IDI4MHB4OyBmb250LXNpemU6IDE0cHg7IGZvbnQtZmFtaWx5OkNhc2FkaWEgQ29kZSwgQ29uc29sYXMsIG1vbm9zcGFjZSc+TGlmZSBTdW1tYXJ5IEBTYW1zYXJhPC9wPlwiKVxuICAgICAgICBmb3IgKGxldCBpZCA9IDA7IGlkIDwgdHh0cy5sZW5ndGg7IGlkKyspIHtcbiAgICAgICAgICAgIHdpbi5kb2N1bWVudC53cml0ZShcIjxwIHN0eWxlPSdtYXJnaW46M3B4IDA7IHdpZHRoOiAyODBweDsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTpDYXNhZGlhIENvZGUsIENvbnNvbGFzLCBtb25vc3BhY2UnPlwiXG4gICAgICAgICAgICAgICAgKyB0eHRzW2lkXVxuICAgICAgICAgICAgICAgICsgXCI8L3A+XCIpXG4gICAgICAgIH1cbiAgICAgICAgd2luLmRvY3VtZW50LndyaXRlKFwiPGRpdiBzdHlsZT0nbWFyZ2luOiA4cHggMCAwOyB3aWR0aDogMjgwcHg7IHRleHQtYWxpZ246IGNlbnRlcjsnPjxpbWcgc3JjPSdpbWFnZXMvcXJjb2RlLnBuZycgc3R5bGU9J3dpZHRoOiAxNTBweDtoZWlnaHQ6MTUwcHg7Jz48L2Rpdj5cIilcbiAgICAgICAgd2luLmRvY3VtZW50LndyaXRlKFwiPHAgc3R5bGU9J21hcmdpbjogOHB4IDAgMDsgd2lkdGg6IDI4MHB4OyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OkNhc2FkaWEgQ29kZSwgQ29uc29sYXMsIG1vbm9zcGFjZSc+VmlzaXQgaHR0cDovL3NhbXNhcmEuaGFja3BrdS5jb20vIHRvIHBsYXkgaXQgYXQgaG9tZS48YnI+IMKpIDIwMjIgWXV3ZWkgSmlhbmc8L3A+XCIpXG4gICAgICAgIHdpbi5kb2N1bWVudC53cml0ZShcIjxwIHN0eWxlPSdtYXJnaW46IDhweCAwIDA7IHdpZHRoOiAyODBweDsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTpDYXNhZGlhIENvZGUsIENvbnNvbGFzLCBtb25vc3BhY2UnPkNvbnRhY3Q6IHNhYmluYWppYW5nMDUwNUBvdXRsb29rLmNvbTwvcD5cIilcbiAgICAgICAgd2luLmZvY3VzKClcbiAgICAgICAgd2luLmRvY3VtZW50LmNsb3NlKClcbiAgICAgICAgd2luLnByaW50KClcbiAgICB9XG5cbiAgICAvLyBTYXZlIGFzIGEgdHh0XG4gICAgLy8gZG93bmxvYWRUeHQodGV4dCwgZmlsZU5hbWUpIHtcbiAgICAvLyAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJylcbiAgICAvLyAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnZGF0YTp0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgsJyArIGVuY29kZVVSSUNvbXBvbmVudCh0ZXh0KSlcbiAgICAvLyAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgZmlsZU5hbWUpXG4gICAgLy8gICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgIC8vICAgICBlbGVtZW50LmNsaWNrKClcbiAgICAvLyB9XG5cbiAgICBpbml0KHsgdGFsZW50cywgcHJpbnRUZXh0LCBlbmFibGVFeHRlbmR9KSB7XG4gICAgICAgIGNvbnN0IHtzdW1tYXJ5LCBsYXN0RXh0ZW5kVGFsZW50fSA9IGNvcmU7XG4gICAgICAgIHRoaXMuI3ByaW50VGV4dCA9IHByaW50VGV4dDtcblxuICAgICAgICB0aGlzLmxpc3RTdW1tYXJ5LmFycmF5ID0gW1xuICAgICAgICAgICAgW2NvcmUuUHJvcGVydHlUeXBlcy5IQ0hSLCAkbGFuZy5VSV9Qcm9wZXJ0eV9DaGFybV0sXG4gICAgICAgICAgICBbY29yZS5Qcm9wZXJ0eVR5cGVzLkhJTlQsICRsYW5nLlVJX1Byb3BlcnR5X0ludGVsbGlnZW5jZV0sXG4gICAgICAgICAgICBbY29yZS5Qcm9wZXJ0eVR5cGVzLkhTVFIsICRsYW5nLlVJX1Byb3BlcnR5X1N0cmVuZ3RoXSxcbiAgICAgICAgICAgIFtjb3JlLlByb3BlcnR5VHlwZXMuSE1OWSwgJGxhbmcuVUlfUHJvcGVydHlfTW9uZXldLFxuICAgICAgICAgICAgW2NvcmUuUHJvcGVydHlUeXBlcy5IU1BSLCAkbGFuZy5VSV9Qcm9wZXJ0eV9TcGlyaXRdLFxuICAgICAgICAgICAgLy9bY29yZS5Qcm9wZXJ0eVR5cGVzLkhBR0UsICRsYW5nLlVJX0ZpbmFsX0FnZV0sXG4gICAgICAgICAgICAvL1tjb3JlLlByb3BlcnR5VHlwZXMuU1VNLCAkbGFuZy5VSV9Ub3RhbF9KdWRnZV0sXG4gICAgICAgIF0ubWFwKChbdHlwZSwga2V5XSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHN1bW1hcnlbdHlwZV07XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGxhYmVsOiBgJHtrZXl9JHskbGFuZy5VSV9Db2xvbn0gJHtkYXRhLnZhbHVlID4gMTMgPyAxMyA6IGRhdGEudmFsdWV9YCxcbiAgICAgICAgICAgICAgICBncmFkZTogZGF0YS5ncmFkZSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5saXN0U2VsZWN0ZWRUYWxlbnRzLmFycmF5ID0gdGFsZW50cztcbiAgICB9XG4gICAgcmVuZGVyU3VtbWFyeShib3gpIHtcbiAgICAgICAgY29uc3Qge2xhYmVsLCBncmFkZX0gPSBib3guZGF0YVNvdXJjZTtcbiAgICAgICAgYm94LmxhYmVsID0gbGFiZWw7XG4gICAgICAgICRfLmRlZXBNYXBTZXQoYm94LCAkdWkuY29tbW9uLnN1bW1hcnlbZ3JhZGVdKTtcbiAgICB9XG4gICAgcmVuZGVyVGFsZW50KGJveCkge1xuICAgICAgICBjb25zdCBkYXRhU291cmNlID0gYm94LmRhdGFTb3VyY2U7XG4gICAgICAgIGJveC5sYWJlbCA9ICRfLmZvcm1hdCgkbGFuZy5GX1RhbGVudFNlbGVjdGlvbiwgZGF0YVNvdXJjZSk7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gJHVpLmNvbW1vbi5jYXJkW2RhdGFTb3VyY2UuZ3JhZGVdO1xuICAgICAgICAkXy5kZWVwTWFwU2V0KGJveCwgZGF0YVNvdXJjZS5pZCA9IHN0eWxlLm5vcm1hbCk7XG4gICAgfVxuXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4251\n")}}]);